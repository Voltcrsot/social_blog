{# templates/includes/pagination.html #}
{% load post_tags %} {# Загружаем наш тег urlencode_partial #}

{% if is_paginated %}
<nav class="mt-8 pt-4 border-t" aria-label="Page navigation">
    <ul class="flex justify-center items-center -space-x-px h-10 text-base">
        {% if page_obj.has_previous %}
            <li><a href="?page=1{{ request.GET|urlencode_partial:'page' }}" class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-500 bg-white border border-e-0 border-gray-300 rounded-s-lg hover:bg-gray-100 hover:text-gray-700"><span class="sr-only">Первая</span>«</a></li>
            <li><a href="?page={{ page_obj.previous_page_number }}{{ request.GET|urlencode_partial:'page' }}" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"><span class="sr-only">Назад</span>‹</a></li>
        {% else %}
            <li><span class="flex items-center justify-center px-4 h-10 ms-0 leading-tight text-gray-400 bg-white border border-e-0 border-gray-300 rounded-s-lg cursor-not-allowed">«</span></li>
            <li><span class="flex items-center justify-center px-4 h-10 leading-tight text-gray-400 bg-white border border-gray-300 cursor-not-allowed">‹</span></li>
        {% endif %}
        <li><span class="flex items-center justify-center px-4 h-10 leading-tight text-gray-700 bg-gray-100 border border-gray-300 z-10" aria-current="page">Стр. {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}</span></li>
        {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}{{ request.GET|urlencode_partial:'page' }}" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-gray-300 hover:bg-gray-100 hover:text-gray-700"><span class="sr-only">Вперед</span>›</a></li>
            <li><a href="?page={{ page_obj.paginator.num_pages }}{{ request.GET|urlencode_partial:'page' }}" class="flex items-center justify-center px-4 h-10 leading-tight text-gray-500 bg-white border border-s-0 border-gray-300 rounded-e-lg hover:bg-gray-100 hover:text-gray-700"><span class="sr-only">Последняя</span>»</a></li>
        {% else %}
            <li><span class="flex items-center justify-center px-4 h-10 leading-tight text-gray-400 bg-white border border-gray-300 cursor-not-allowed">›</span></li>
            <li><span class="flex items-center justify-center px-4 h-10 leading-tight text-gray-400 bg-white border border-s-0 border-gray-300 rounded-e-lg cursor-not-allowed">»</span></li>
        {% endif %}
    </ul>
</nav>
{% endif %}